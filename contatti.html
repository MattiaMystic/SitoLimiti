<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Vai oltre il limite</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css" />
    <style>
        .responsive-flex {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .responsive-flex > div {
            flex: 1;
            min-width: 300px;
        }
        .contact-card {
            background: #ffffff;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        .map-container {
            height: 100%;
            min-height: 350px;
        }
        iframe {
            border-radius: 20px;
            height: 100%;
        }
    </style>
</head>

<body>
    <!-- NAVBAR -->
    <nav>
        <div id="main" class="w3-top">
            <div class="w3-bar w3-white w3-wide w3-padding w3-card">
                <!-- OPEN COLLAPSED SIDEBAR -->
                <button class="openbtn w3-bar-item" onclick="openNav()"
                    style="background-color: transparent; padding-right: 80px">
                    <div class="line1"></div>
                    <div class="line2"></div>
                    <div class="line3"></div>
                </button>

                <!-- CLOSE -->
                <div id="mySidebar" class="sidebar">
                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                    <a href="teoria.html">Teoria</a>
                    <a href="esercizi.html">Esercizi</a>
                    <a href="limiti-sociali.html">Limiti sociali</a>
                    <a href="podcast.html">Podcast</a>
                    <a href="contatti.html" style="position: absolute; bottom: 0; margin-bottom: 20%;">Contatti</a>
                    <a href="chi-siamo.html" style="position: absolute; bottom: 0; margin-bottom: 5%; font-size: 15px;">Chi siamo</a>
                </div>
                <a href="index.html" class="w3-bar-item w3-button company-name-main"><b>OLTRE</b> il limite</a>
            </div>
        </div>
    </nav>

    <section id="contacts" style="
        background: #f5f5f7;
        padding: 80px 20px;
        font-family: 'San Francisco', -apple-system, BlinkMacSystemFont,
          'Segoe UI', 'Roboto', sans-serif;
      ">
        <h2 style="
          font-size: 3em;
          margin-bottom: 40px;
          color: #333;
          font-weight: bold;
          letter-spacing: -1px;
          text-align: center;
        ">
            Contatti
        </h2>

        <!-- PRIMA SEZIONE: Info + Mappa (affiancate) -->
        <div class="responsive-flex" style="max-width: 1200px; margin: 0 auto 40px;">
            <!-- Info Contatti -->
            <div class="contact-card">
                <h3 style="color: #0078d4; font-size: 1.8em; margin-bottom: 20px;">Contattaci</h3>
                <p style="font-size: 1.1em; line-height: 1.8; color: #333;"><strong>üìû Telefono:</strong> 0425 410699</p>
                <p style="font-size: 1.1em; line-height: 1.8; color: #333;"><strong>üìß Email:</strong> <a href="mailto:rois012001@istruzione.it" style="color: #0078d4; text-decoration: none;">rois012001@istruzione.it</a></p>
                <p style="font-size: 1.1em; line-height: 1.8; color: #333;"><strong>üìç Indirizzo:</strong> Via Alcide De Gasperi, 21, 45100 Rovigo (RO)</p>
                <p style="font-size: 1.1em; line-height: 1.8; color: #333;"><strong>‚è∞ Orari di apertura:</strong><br> Luned√¨ - Sabato: 08:00 - 13:30 <br> Domenica: Chiuso</p>
            </div>
            
            <!-- Mappa -->
            <div class="contact-card map-container">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2817.20907403341!2d11.794024976082914!3d45.08155327107018!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x477efa0aff203935%3A0x534ddf2955ad5bde!2sVia%20Alcide%20de%20Gasperi%2C%2021%2C%2045100%20Rovigo%20RO!5e0!3m2!1sit!2sit!4v1743023636421!5m2!1sit!2sit" 
                    width="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>

        <!-- SECONDA SEZIONE: Form Email (full-width sotto) -->
        <div class="contact-card" style="max-width: 1200px; margin: 0 auto;">
            <h3 style="color: #0078d4; font-size: 1.8em; margin-bottom: 30px;">Invia un messaggio</h3>
            <form id="contactForm" action="https://formspree.io/f/xaneddwl" method="POST">
                <input type="hidden" name="_next" value="success.html">
                
                <label for="name" style="font-weight: bold; font-size: 1.1em; color: #333; display: block; margin-bottom: 8px;">Nome:</label>
                <input type="text" id="name" name="name" required style="width: 100%; padding: 14px 20px; margin-bottom: 20px; border: 2px solid #ccc; border-radius: 10px; font-size: 16px; background-color: #f5f5f7;">
                
                <label for="email" style="font-weight: bold; font-size: 1.1em; color: #333; display: block; margin-bottom: 8px;">Email:</label>
                <input type="email" id="email" name="email" required style="width: 100%; padding: 14px 20px; margin-bottom: 20px; border: 2px solid #ccc; border-radius: 10px; font-size: 16px; background-color: #f5f5f7;">
                
                <label for="message" style="font-weight: bold; font-size: 1.1em; color: #333; display: block; margin-bottom: 8px;">Messaggio:</label>
                <textarea id="message" name="message" rows="6" required style="width: 100%; padding: 14px 20px; margin-bottom: 20px; border: 2px solid #ccc; border-radius: 10px; font-size: 16px; background-color: #f5f5f7;"></textarea>
                
                <button type="submit" style="background-color: #0078d4; color: white; border: none; padding: 16px 24px; font-size: 18px; border-radius: 10px; cursor: pointer; transition: background 0.3s; width: 100%; font-weight: bold;">Invia</button>
            </form>
        </div>
    </section>

    <script>
    document.getElementById("contactForm").addEventListener("submit", function(e) {
        e.preventDefault();
        const form = e.target;
        const submitButton = form.querySelector('button[type="submit"]');
        const originalButtonText = submitButton.textContent;
        
        submitButton.disabled = true;
        submitButton.textContent = "Invio in corso...";
        submitButton.style.backgroundColor = "#5a9bd5";
        
        fetch(form.action, {
            method: "POST",
            body: new FormData(form),
            headers: {
                'Accept': 'application/json'
            }
        })
        .then(response => {
            if (response.ok) {
                window.location.href = "success.html";
            } else {
                alert("Si √® verificato un errore durante l'invio. Riprova pi√π tardi.");
                submitButton.disabled = false;
                submitButton.textContent = originalButtonText;
                submitButton.style.backgroundColor = "#0078d4";
            }
        })
        .catch(error => {
            alert("Errore di connessione. Verifica la tua connessione internet e riprova.");
            submitButton.disabled = false;
            submitButton.textContent = originalButtonText;
            submitButton.style.backgroundColor = "#0078d4";
        });
    });

    function openNav() {
        document.getElementById("mySidebar").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidebar").style.width = "0";
        document.getElementById("main").style.marginLeft = "0";
    }
    </script>
</body>
</html>
